<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
			<link rel="shortcut icon" href="../img/fav.png">
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Tantra Media - handpicked domains for you!</title>

	<link href="https://fonts.googleapis.com/css?family=Poppins:300,500,600,900" rel="stylesheet">
		<!--
		CSS
		============================================= -->
		<link rel="stylesheet" href="../css/linearicons.css">
		<link rel="stylesheet" href="../css/magnific-popup.css">
		<link rel="stylesheet" href="../css/bootstrap.css">
		<link rel="stylesheet" href="../css/main.css">


	</head>
	<body>

		<div class="main-wrapper-first relative">

	<section class="subscription-area" style="border-bottom: 1px solid rgba(0, 0, 0, 0.125)">
				<div class="container">
					<div id="search" class="row">
						<div class="col-3 col-sm-3 col-md-3">
							<a href="../">
								<img class="img-fluid" src="../img/logo.png" alt="TANTRA MEDIA" />
							</a>
						</div>


						<div class="col-9 col-sm-6 col-md-6">
							<div id="mc_embed_signup">
								<form novalidate action="/domain" method="get" class="subscription relative">
									<input type="text" id="q" name="q" required>
									<button class="primary-btn" style="width: 8%; height: 90%;"><span style="font-size:1.5rem" class="lnr lnr-magnifier"></span></button>
									<div class="info"></div>
								</form>

							</div>
						</div>
					</div>

				</div>
			</section>

		<section class="story-area">

			<div class="overlay overlay-bg"></div>
			<div class="container">

				<div class="row justify-content-md-center">
					<div class="col-md-8">
					<div class="msg msg-magick text-center" id="status-msg" role="msg">
						<span class="lnr lnr-hourglass"></span> Howdy! Please wait while we process your request...
					</div>
					</div>
				</div>

				<div class="row" id="contact" style="display:none">


					<div class="col-md-6">


						<div id="domain-info" class="card card-body bg-white text-center">

						<h3 class="card-title" id="domain-title">

						</h3>

						<form id="agreement" class="card card-body">
								<div class="mt-10">
									<span class="lnr lnr-pushpin"></span> To accept offers, we use a trusted third-party domain escrow service, ensuring safety at all stages of a transaction. Fill the form below to make an offer to acquire this domain name.
								</div>

								<div class="mt-10">
									<input style="border:1px solid rgba(0, 0, 0, 0.125)" type="text" name="name" placeholder="Enter your Name" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter your Name'" required="" class="single-input">
									<span style="display:none" id="form-name-validate">
										<span class="lnr lnr-warning"></span>  Please enter your full name
									</span>
								</div>
								<div class="mt-10">
									<input style="border:1px solid rgba(0, 0, 0, 0.125)" type="email" name="email" placeholder="Enter your Email address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter your Email address'" required="" class="single-input">
									<span style="display:none" id="form-email-validate">
										<span class="lnr lnr-warning"></span> Please enter a valid email address
									</span>
								</div>

								<div class="mt-10" id="offer-box">
									<input style="border:1px solid rgba(0, 0, 0, 0.125)" type="number" name="offer" placeholder="Enter your offer" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter your offer'" class="single-input">

									<span style="display:none" id="form-offer-validate">
										 Please enter an offer amount ($ US)
									</span>
								</div>

								<input type="hidden" name="domain" value="0">

								<div class="mt-10" id="min-agreement-terms">
									<span class="lnr lnr-checkmark-circle"></span> If accepted, I agree to purchase this domain for the offer amount entered by me
								</div>

								<div class="mt-10">

								<a href="#" id="agreement-submit" style="font-size:1.5rem"  class="genric-btn primary-border radius">
									<span class="lnr lnr-arrow-right"></span> <span id="agreement-action"> Make Offer </span>
								</a>
								</div>








					</form>

						<a href="#" id="buynow-link" style="display:none">
							Buy from our Marketplace, we accept Paypal
						</a>

								</div>


								</div>

										<div class="col-md-6">

					<h3 class="forsale" id="forsale" style="color:#fff"></h3>
					</div>

								</div>
			</div>
		</section>





			<section id="how" class="featured-area text-center">

					<h5>
						How it works
					</h5>
				<div class="container">


					<div class="row justify-content-md-center">

												<div class="col-md-3 col-sm-6 col-6">
								<div class="desc">
									<p><span style="font-size:1.2rem" class="lnr lnr-keyboard"></span> Enter your details, click Make Offer, Receive email from escrow service</p>
								</div>
						</div>
						<div class="col-md-3 col-sm-6 col-6">
								<div class="desc">
									<p><span style="font-size:1.2rem" class="lnr lnr-cart"></span> Follow steps in email, negotiate price & pay safely via escrow service</p>
								</div>
						</div>
						<div class="col-md-3 col-sm-6 col-6">
								<div class="desc">
									<p><span style="font-size:1.2rem" class="lnr lnr-bubble"></span> An escrow transfer agent will assist with domain transfer</p>
							</div>
						</div>


						<div class="col-md-4 col-sm-6 col-6">
									<p>
																<a href="../third-party-escrow/">Learn more about third-party escrow transactions
									</a>
									</p>
							</div>
						</div>



					</div>
			</section>
		</div>
		<div class="main-wrapper">



			<!-- Start footer Area -->
			<footer class="footer-area text-center">
				<div class="container">



					<div class="footer-social footer-menu">
														<a href="/"><span class="lnr lnr-home"></span> Home</a>
							<a href="/about"><span class="lnr lnr-book"></span> About Us</a>
							<a href="../transact/"><span class="lnr lnr-store"></span> Marketplace Transactions</a>

					</div>

					<div class="row justify-content-md-center">


											<div class="col-md-2 col-12 col-sm-12 footer-social">
							<img class="img-fluid" src="../img/paypal.png" border="0" alt="PayPal Acceptance Mark">
												</div>


						<div class="col-md-2 col-6 col-sm-6 footer-social">
						<span class="lnr lnr-phone-handset"></span> +1650-2397232

</br>
							<span class="lnr lnr-envelope"></span> info@tantra.me


	</div>
												<div class="col-md-2 col-6 col-sm-6 footer-social">
						<img class="img-fluid" src="../img/logo_footer.png" alt="TANTRA MEDIA" />

					</div>
	</div>


							<div class="footer-social">
					 #108, 650 Castro St, Mountain View, CA
	</div>


				</div>
			</footer>
			<!-- End footer Area -->
		</div>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1944294-8"></script>
<script src="../js/config.js"></script>
<script>
	function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }

	async function fetchAsync (url) {


		  let response = await fetch(url);

	  // only proceed once promise is resolved
	  let data = await response.json();
	  // only proceed once second promise is resolved
	  return data;
	}


async function fetchAsyncPOST (url, req_data) {
	  	  let response = await fetch(url, {
			  method: 'POST',
			  headers: {
				'Content-Type': 'application/json;charset=utf-8'
			  },
			  body: JSON.stringify(req_data)
			});

	  // only proceed once promise is resolved
	  let data = await response.json();
	  // only proceed once second promise is resolved
	  return data;
	}

	function handle_domain_error(err) {
			console.log(err)

			document.getElementById("status-msg").style.display = ""
			document.getElementById("status-msg").innerHTML = '<span class="lnr lnr-warning"></span> Our server is down at the moment! Please try again later or contact <b>support@tantra.me</b>'
			document.getElementById("status-msg").className = 'msg msg-danger  text-center'
	}

	function handle_domain_response(response) {
			if(response.hasOwnProperty('dn')) {

				if (typeof(Storage) !== "undefined") {
					window.localStorage.setItem('domain', response['dn']);
				}

				var params = getUrlVars();
				document.getElementById("domain-title").innerHTML = response['dn']
				document.getElementsByName("domain")[0].value = response['dn']

				document.getElementById("status-msg").style.display = "none"
				document.getElementById("forsale").innerHTML = "The domain name <br><b style='color:#fff'>" + response['dn'] + '</b><br> is for sale'

				document.getElementById("buynow-link").style.display = ""
				document.getElementById("buynow-link").href = web_url + '/domain?q=' + response['dn']
				document.getElementById("buynow-link").innerHTML = 'Buy from our Marketplace, we accept Paypal - $' + response['bin'] +' US'


	     		document.getElementById("form-offer-validate").style.display = "none"
	     		document.getElementById("form-offer-validate").innerHTML = '<span class="lnr lnr-warning"></span> Please enter an offer above $' + response['min'] + ' US'

				document.getElementById("contact").style.display = ""

			    window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'UA-1944294-8');



			} else {
				document.getElementById("status-msg").style.display = ""
				document.getElementById("status-msg").className = 'msg msg-warning'
				document.getElementById("status-msg").innerHTML = '<span class="lnr lnr-warning"></span> We could not find any result matching your query <b>' + response['q'] + '</b>, please search again.'
			}
	}

	var params = getUrlVars();
	target = '.dbz'
	if(params.hasOwnProperty('q') && params['q'] != '' && params['q'].substring(params['q'].length-target.length) != target) {

		final_url = api_url + '/domain?q=' + params['q']
		document.getElementById("q").value = params['q'];

		fetchAsync(final_url)
				.then(data => handle_domain_response(data))
				.catch(reason => handle_domain_error(reason))
	} else {
		if (typeof(Storage) !== "undefined") {
			searched_domain = window.localStorage.getItem('domain');
			if (searched_domain !== "null") {
				document.getElementById("q").value = searched_domain;
			}
		}
		document.getElementById("status-msg").style.display = ""
		document.getElementById("status-msg").className = 'msg msg-warning'
		document.getElementById("status-msg").innerHTML = '<span class="lnr lnr-warning"></span> Please type a valid input while searching for a domain.'
	}

document.getElementById("agreement-submit").addEventListener("click", function(event){
	event.preventDefault()

	  var domain = document.getElementsByName('domain')[0].value;
	  var offer = document.getElementsByName('offer')[0].value;
	  var email = document.getElementsByName('email')[0].value;
	  var name = document.getElementsByName('name')[0].value;

	  var submit = true


	if(name === '') {
		  submit = false
			document.getElementById("form-name-validate").style = "color:red"
	} else {
	  	document.getElementById("form-name-validate").style.display = "none"
	  }

	if(ValidateEmail(email) === false) {
		  submit = false
			document.getElementById("form-email-validate").style = "color:red"
	} else {
	  	document.getElementById("form-email-validate").style.display = "none"
	  }



   if (offer === '')  {
		  submit = false
			document.getElementById("form-offer-validate").style = "color:red"
	} else {
	  	document.getElementById("form-offer-validate").style.display = "none"
   }

	  if (submit) {

	fetchAsyncPOST(api_url + '/domain-agreement', {
	  	'domain' : domain,
	  	'offer' : offer,
	  	'email' : email,
	  	'name' : name,
	  }).then(data => handle_agreement_response(data))
	  	.catch(reason => handle_agreement_error(reason))
	}
});


function handle_agreement_response(data){
	if (data.hasOwnProperty('owned')) {

		if (data['owned'] == 0) {
			document.getElementById('domain-info').innerHTML = '<span style="font-size:1.2rem; color:yellow" class="lnr lnr-checkmark-circle"></span> Thank you for your submission, we will process your request shortly, you can also email us at info@tantra.me'
		} else if (data['owned'] == 1 || data['owned'] == -1) {
			document.getElementById('domain-info').innerHTML = '<span style="font-size:1.2rem; color:green" class="lnr lnr-checkmark-circle"></span> Thank you for your submission, you will receive an email from DAN.com domain escrow service to proceed with this transaction, if you do not receive the email in the next 30 minutes, kindly email us at info@tantra.me'
		}

	} else if (data.hasOwnProperty('post_data_invalid')) {

			dictionary = data['post_data_invalid']
			for (var key in dictionary) {
				if (!dictionary.hasOwnProperty(key)) {
					continue;
				}
				document.getElementById("form-" + key + "-validate").style = "color:red"
				document.getElementById("form-" + key + "-validate").innerHTML = '<span class="lnr lnr-warning"></span> ' + dictionary[key]
			}


	} else {
		handle_agreement_error(data)
	}
}

function handle_agreement_error(reason){
	document.getElementById('agreement').innerHTML = '<span style="font-size:1.2rem; color:yellow" class="lnr lnr-checkmark-circle"></span>  Thank you for your submission, we will process your request shortly, you can also email us at info@tantra.me'
}


function isEmpty(value) {
  return (value == null || value === '');
}

function ValidateEmail(mail)
{
 if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
  {
    return true
  }
    return false
}

</script>
	<script src="../js/vendor/jquery-2.2.4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<script src="../js/vendor/bootstrap.min.js"></script>
	<script src="../js/main.js"></script>
	</body>
</html>
